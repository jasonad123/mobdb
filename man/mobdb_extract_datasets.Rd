% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils-helpers.R
\name{mobdb_extract_datasets}
\alias{mobdb_extract_datasets}
\title{Extract latest dataset information from search results}
\usage{
mobdb_extract_datasets(results)
}
\arguments{
\item{results}{A tibble returned by \code{\link[=mobdb_search]{mobdb_search()}}.}
}
\value{
A tibble with one row per feed, containing key dataset information:
\itemize{
\item \code{id} - Feed ID
\item \code{dataset_id} - Latest dataset ID
\item \code{hosted_url} - URL to download the latest validated dataset
\item \code{downloaded_at} - When the dataset was captured
\item \code{hash} - Dataset file hash
\item \code{service_date_range_start} - Start of service dates
\item \code{service_date_range_end} - End of service dates
\item \code{total_error} - Number of validation errors (if available)
\item \code{total_warning} - Number of validation warnings (if available)
\item Note: Report URLs (html_report, json_report) are only available when
using \code{\link[=mobdb_datasets]{mobdb_datasets()}}, not from search results
}
}
\description{
Helper function to extract dataset details from search results. The search
endpoint includes a \code{latest_dataset} field with comprehensive information
about the most recent dataset, including validation results.
}
\examples{
\dontrun{
# Search for feeds
results <- mobdb_search("transit")

# Get dataset info with validation status
datasets <- mobdb_extract_datasets(results)

# Filter for feeds with no errors
clean_feeds <- datasets |> filter(total_error == 0)
}
}
\seealso{
\code{\link[=get_validation_report]{get_validation_report()}} to get full validation details with report URLs,
\code{\link[=mobdb_search]{mobdb_search()}} to search for feeds,
\code{\link[=mobdb_datasets]{mobdb_datasets()}} to get dataset information directly
}
