% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/geo-feeds.R
\name{feeds_bbox}
\alias{feeds_bbox}
\title{Find GTFS Schedule feeds by location}
\usage{
feeds_bbox(
  bbox,
  filter_method = "completely_enclosed",
  provider = NULL,
  country_code = NULL,
  subdivision_name = NULL,
  municipality = NULL,
  status = NULL,
  official = NULL,
  limit = 100,
  offset = 0,
  use_cache = TRUE
)
}
\arguments{
\item{bbox}{A numeric vector of length 4 specifying the bounding box as
\code{c(min_lon, min_lat, max_lon, max_lat)} in WGS84 coordinates
(EPSG:4326). Alternatively, an \code{sf} bbox object can be provided if
\code{sf} is installed.}

\item{filter_method}{A string. Method for filtering feeds by bounding box:
\itemize{
\item \code{"completely_enclosed"} (default) - Feeds whose coverage is fully
inside the specified bounding box
\item \code{"partially_enclosed"} - Feeds whose coverage overlaps with the box
\item \code{"disjoint"} - Feeds whose coverage is completely outside the box
}}

\item{provider}{A string. Filter by provider/agency name (partial match).}

\item{country_code}{A string. Two-letter ISO country code (e.g., "US", "CA").}

\item{subdivision_name}{A string. State, province, or region name.}

\item{municipality}{A string. City or municipality name.}

\item{status}{A string. Feed status: "active", "deprecated", "inactive",
"development", or "future".}

\item{official}{A logical. If \code{TRUE}, only return official feeds.
If \code{FALSE}, only return unofficial feeds. If \code{NULL} (default),
return all feeds regardless of official status.}

\item{limit}{An integer. Maximum number of results to return (default: 100).}

\item{offset}{An integer. Number of results to skip for pagination (default: 0).}

\item{use_cache}{A logical. If \code{TRUE} (default), use cached results if available.
If \code{FALSE}, always fetch fresh data from the API. Cached data expires after 1 hour.}
}
\value{
A tibble containing GTFS Schedule feed information with columns including:
\itemize{
\item \code{id} - Unique feed identifier
\item \code{data_type} - Always "gtfs" for this function
\item \code{provider} - Transit agency/provider name
\item \code{status} - Feed status
\item \code{source_info} - Data frame containing download URLs and auth info
\item \code{latest_dataset} - Information about the most recent dataset including
bounding box coordinates
\item Additional metadata columns
}
}
\description{
Discover GTFS Schedule feeds whose geographic coverage overlaps with or
is contained within a specified bounding box. This function is designed
for feed discovery based on geographic location.

\strong{Important:} This function only works with GTFS Schedule feeds because
bounding box data is derived from the feed's latest dataset.
}
\examples{
\dontrun{
# Find feeds in the San Francisco Bay Area
# Bounding box: c(min_lon, min_lat, max_lon, max_lat)
bay_area_feeds <- feeds_bbox(
  bbox = c(-122.5, 37.2, -121.8, 38.0),
  filter_method = "partially_enclosed"
)

# Find feeds completely within Los Angeles County
la_feeds <- feeds_bbox(
  bbox = c(-118.9, 33.7, -118.0, 34.8),
  filter_method = "completely_enclosed",
  status = "active"
)

# Use with sf package (if installed)
library(sf)
# Create bbox from sf object
bbox_sf <- st_bbox(c(xmin = -122.5, ymin = 37.2,
                     xmax = -121.8, ymax = 38.0),
                   crs = 4326)
feeds <- feeds_bbox(bbox = bbox_sf)
}
}
