<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Access the Mobility Database API • mobdb</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Access the Mobility Database API">
<meta name="description" content="Provides functions to search and access transit feed data from the Mobility Database (mobilitydata.org). The package wraps the Mobility Database API v1, allowing users to discover GTFS and GTFS Realtime feeds from transit agencies worldwide. Functions are designed to integrate seamlessly with the tidytransit and gtfstools packages for subsequent feed analysis.">
<meta property="og:description" content="Provides functions to search and access transit feed data from the Mobility Database (mobilitydata.org). The package wraps the Mobility Database API v1, allowing users to discover GTFS and GTFS Realtime feeds from transit agencies worldwide. Functions are designed to integrate seamlessly with the tidytransit and gtfstools packages for subsequent feed analysis.">
<meta property="og:image" content="https://jasonad123.github.io/mobdb/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">mobdb</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jasonad123/mobdb/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="mobdb-">mobdb <a class="anchor" aria-label="anchor" href="#mobdb-"></a>
</h1>
</div>
<!-- badges: start -->

<p><strong>mobdb</strong> provides R functions to search and access transit feed data from the <a href="https://mobilitydatabase.org" class="external-link">Mobility Database</a>. The package wraps the Mobility Database Catalog API, enabling the discovery of GTFS (General Transit Feed Specification) Schedule and GTFS Realtime feeds from transit agencies worldwide.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of mobdb from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"jasonad123/mobdb"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="authentication">Authentication<a class="anchor" aria-label="anchor" href="#authentication"></a>
</h2>
<p>To use the Mobility Database Catalog API, you need a refresh token:</p>
<ol style="list-style-type: decimal">
<li>Sign up at <a href="https://mobilitydatabase.org" class="external-link">mobilitydatabase.org</a>
</li>
<li>Navigate to your account details page to view your refresh token</li>
<li>Set your token in R:</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jasonad123/mobdb" class="external-link">mobdb</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># For current session only</span></span>
<span><span class="fu"><a href="reference/mobdb_set_key.html">mobdb_set_key</a></span><span class="op">(</span><span class="st">"your_refresh_token_here"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># To save permanently in .Renviron</span></span>
<span><span class="fu"><a href="reference/mobdb_set_key.html">mobdb_set_key</a></span><span class="op">(</span><span class="st">"your_refresh_token_here"</span>, install <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Alternatively, you can set the <code>MOBDB_REFRESH_TOKEN</code> environment variable in your <code>.Renviron</code> file.</p>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<div class="section level3">
<h3 id="search-for-transit-feeds">Search for transit feeds<a class="anchor" aria-label="anchor" href="#search-for-transit-feeds"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Search by provider name</span></span>
<span><span class="va">bart_feeds</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mobdb_feeds.html">mobdb_feeds</a></span><span class="op">(</span>provider <span class="op">=</span> <span class="st">"BART"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Filter feeds by location</span></span>
<span><span class="va">on_feeds</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mobdb_feeds.html">mobdb_feeds</a></span><span class="op">(</span></span>
<span>  country_code <span class="op">=</span> <span class="st">"CA"</span>,</span>
<span>  subdivision_name <span class="op">=</span> <span class="st">"Ontario"</span>,</span>
<span>  data_type <span class="op">=</span> <span class="st">"gtfs"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Search for a specific provider</span></span>
<span><span class="va">translink_yvr</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mobdb_feeds.html">mobdb_feeds</a></span><span class="op">(</span>provider <span class="op">=</span> <span class="st">"TransLink Vancouver"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Note: mobdb_search() uses the /search endpoint which has known issues</span></span>
<span><span class="co"># with relevance ranking. Use mobdb_feeds() with filters for better results.</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="get-feed-details">Get feed details<a class="anchor" aria-label="anchor" href="#get-feed-details"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get detailed information about a specific feed</span></span>
<span><span class="va">feed_info</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mobdb_get_feed.html">mobdb_get_feed</a></span><span class="op">(</span><span class="st">"mdb-53"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get just the download URL</span></span>
<span><span class="va">url</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mobdb_feed_url.html">mobdb_feed_url</a></span><span class="op">(</span><span class="st">"mdb-53"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Or extract URLs from multiple feeds (requires data_type for location filters)</span></span>
<span><span class="va">feeds</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mobdb_feeds.html">mobdb_feeds</a></span><span class="op">(</span>country_code <span class="op">=</span> <span class="st">"US"</span>, data_type <span class="op">=</span> <span class="st">"gtfs"</span>, limit <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">urls</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mobdb_extract_urls.html">mobdb_extract_urls</a></span><span class="op">(</span><span class="va">feeds</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="access-historical-datasets">Access historical datasets<a class="anchor" aria-label="anchor" href="#access-historical-datasets"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get the latest dataset for a feed (only works with GTFS schedule feeds)</span></span>
<span><span class="va">latest</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mobdb_datasets.html">mobdb_datasets</a></span><span class="op">(</span><span class="st">"mdb-53"</span>, latest <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get all historical versions</span></span>
<span><span class="va">all_versions</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mobdb_datasets.html">mobdb_datasets</a></span><span class="op">(</span><span class="st">"mdb-53"</span>, latest <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="using-with-tidytransit">Using with tidytransit<a class="anchor" aria-label="anchor" href="#using-with-tidytransit"></a>
</h3>
<p>The package works with <a href="https://github.com/r-transit/tidytransit" class="external-link">tidytransit</a> for GTFS analysis:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-transit/tidytransit" class="external-link">tidytransit</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Read by feed ID (simplest approach)</span></span>
<span><span class="va">gtfs</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mobdb_read_gtfs.html">mobdb_read_gtfs</a></span><span class="op">(</span><span class="st">"mdb-53"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Or search and read in one pipeline</span></span>
<span><span class="va">feeds</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mobdb_feeds.html">mobdb_feeds</a></span><span class="op">(</span>provider <span class="op">=</span> <span class="st">"San Francisco"</span>, data_type <span class="op">=</span> <span class="st">"gtfs"</span><span class="op">)</span></span>
<span><span class="va">gtfs</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mobdb_read_gtfs.html">mobdb_read_gtfs</a></span><span class="op">(</span><span class="va">feeds</span><span class="op">[</span><span class="fl">1</span>, <span class="op">]</span><span class="op">)</span>  <span class="co"># Pass single-row data frame</span></span>
<span></span>
<span><span class="co"># Or manually extract the URL using helper function</span></span>
<span><span class="va">feeds</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mobdb_feeds.html">mobdb_feeds</a></span><span class="op">(</span>provider <span class="op">=</span> <span class="st">"San Francisco"</span>, data_type <span class="op">=</span> <span class="st">"gtfs"</span><span class="op">)</span></span>
<span><span class="va">urls</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mobdb_extract_urls.html">mobdb_extract_urls</a></span><span class="op">(</span><span class="va">feeds</span><span class="op">)</span></span>
<span><span class="va">gtfs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-transit.github.io/tidytransit/reference/read_gtfs.html" class="external-link">read_gtfs</a></span><span class="op">(</span><span class="va">urls</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Now analyze with tidytransit</span></span>
<span><span class="va">gtfs</span><span class="op">$</span><span class="va">routes</span></span>
<span><span class="va">gtfs</span><span class="op">$</span><span class="va">stops</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="pagination">Pagination<a class="anchor" aria-label="anchor" href="#pagination"></a>
</h3>
<p>For large result sets, use pagination:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get first 100 results</span></span>
<span><span class="va">page1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mobdb_feeds.html">mobdb_feeds</a></span><span class="op">(</span>limit <span class="op">=</span> <span class="fl">100</span>, offset <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get next 100 results</span></span>
<span><span class="va">page2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mobdb_feeds.html">mobdb_feeds</a></span><span class="op">(</span>limit <span class="op">=</span> <span class="fl">100</span>, offset <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="api-endpoints">API Endpoints<a class="anchor" aria-label="anchor" href="#api-endpoints"></a>
</h2>
<p>The package provides access to the following Mobility Database API endpoints:</p>
<ul>
<li>
<strong>Feeds</strong> (<code><a href="reference/mobdb_feeds.html">mobdb_feeds()</a></code>, <code><a href="reference/mobdb_get_feed.html">mobdb_get_feed()</a></code>) - Search and retrieve feed information</li>
<li>
<strong>Search</strong> (<code><a href="reference/mobdb_search.html">mobdb_search()</a></code>) - Full-text search across feeds</li>
<li>
<strong>Datasets</strong> (<code><a href="reference/mobdb_datasets.html">mobdb_datasets()</a></code>, <code><a href="reference/mobdb_get_dataset.html">mobdb_get_dataset()</a></code>) - Access historical feed versions</li>
<li>
<strong>Metadata</strong> (<code><a href="reference/mobdb_metadata.html">mobdb_metadata()</a></code>) - Get API version and status information</li>
</ul>
</div>
<div class="section level2">
<h2 id="related-packages">Related Packages<a class="anchor" aria-label="anchor" href="#related-packages"></a>
</h2>
<ul>
<li>
<a href="https://github.com/r-transit/tidytransit" class="external-link">tidytransit</a> - Read, validate, and analyze GTFS feeds</li>
<li>
<a href="https://github.com/ipeaGIT/gtfstools" class="external-link">gtfstools</a> - Edit and analyze GTFS feeds</li>
<li>
<a href="https://github.com/r-transit/gtfsio" class="external-link">gtfsio</a> - Read and write GTFS files</li>
</ul>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>MIT License</p>
</div>
<div class="section level2">
<h2 id="disclaimers">Disclaimers<a class="anchor" aria-label="anchor" href="#disclaimers"></a>
</h2>
<p><strong>Not Affiliated with MobilityData</strong>: This package is an independent, community-developed project and is not officially affiliated with, endorsed by, or supported by MobilityData or the Mobility Database project. It is a third-party API wrapper created to facilitate R users’ access to the Mobility Database.</p>
<p><strong>Work in Progress</strong>: This package is under active development (v0.1.0). While all functions have been tested against the live API and the package passes R CMD check, the API structure may change, and some features are still being refined. Use in production environments at your own discretion.</p>
<p><strong>Generative AI Assistance</strong>: This code and documentation were developed with assistance from generative AI tools, including Claude and Claude Code. While all outputs have been reviewed and tested, users should validate results independently before use in production environments.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/jasonad123/mobdb/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/jasonad123/mobdb/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing mobdb</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Jason A <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://github.com/jasonad123/mobdb" class="external-link"><img src="https://img.shields.io/badge/R--CMD--check-passing-brightgreen.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jason A.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
