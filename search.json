[{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":null,"dir":"","previous_headings":"","what":"API Response Structure Reference","title":"API Response Structure Reference","text":"document describes actual structure responses Mobility Database API, based real API testing.","code":""},{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":"feeds-vs-search-endpoints","dir":"","previous_headings":"","what":"Feeds vs Search Endpoints","title":"API Response Structure Reference","text":"API two main discovery endpoints different response structures:","code":""},{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":"feeds---basic-feed-listing","dir":"","previous_headings":"Feeds vs Search Endpoints","what":"feeds() - Basic feed listing","title":"API Response Structure Reference","text":"Returns core feed information Simpler structure, faster queries Good filtering specific criteria","code":""},{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":"mobdb_search---enhanced-search-results","dir":"","previous_headings":"Feeds vs Search Endpoints","what":"mobdb_search() - Enhanced search results","title":"API Response Structure Reference","text":"locations - Detailed geographical information latest_dataset - Full dataset details validation reports Better exploration quality checking Slower comprehensive","code":""},{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":"feed-object-structure-from-feeds","dir":"","previous_headings":"","what":"Feed Object Structure (from feeds)","title":"API Response Structure Reference","text":"call feeds() mobdb_search(), get tibble columns:","code":""},{"path":[]},{"path":[]},{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":"source_info-data-frame","dir":"","previous_headings":"Feed Object Structure (from feeds) > Nested Data Structures","what":"source_info (data frame)","title":"API Response Structure Reference","text":"download URL lives! Contains: - producer_url - direct download URL GTFS/GBFS file - authentication_type - Integer (0 = auth required, 1 = API key, 2 = header) - authentication_info_url - URL auth instructions (needed) - api_key_parameter_name - Parameter name API key (needed) - license_url - License information URL","code":"feeds$source_info"},{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":"external_ids-list-of-data-frames","dir":"","previous_headings":"Feed Object Structure (from feeds) > Nested Data Structures","what":"external_ids (list of data frames)","title":"API Response Structure Reference","text":"External identifiers systems:","code":"feeds$external_ids[[1]] # external_id    source # \"195\"         \"mdb\""},{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":"redirects-list","dir":"","previous_headings":"Feed Object Structure (from feeds) > Nested Data Structures","what":"redirects (list)","title":"API Response Structure Reference","text":"URL redirects (usually empty list)","code":""},{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":"related_links-list","dir":"","previous_headings":"Feed Object Structure (from feeds) > Nested Data Structures","what":"related_links (list)","title":"API Response Structure Reference","text":"Related URLs (usually empty list)","code":""},{"path":[]},{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":"method-1-extract-from-search-results","dir":"","previous_headings":"Accessing Download URLs","what":"Method 1: Extract from search results","title":"API Response Structure Reference","text":"","code":"feeds <- feeds(country_code = \"US\", limit = 5)  # Get first feed's URL url <- feeds$source_info$producer_url[1]  # Get all URLs urls <- feeds$source_info$producer_url"},{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":"method-2-use-helper-function","dir":"","previous_headings":"Accessing Download URLs","what":"Method 2: Use helper function","title":"API Response Structure Reference","text":"","code":"feeds <- mobdb_search(\"transit\") urls <- mobdb_extract_urls(feeds)"},{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":"method-3-get-specific-feed-url","dir":"","previous_headings":"Accessing Download URLs","what":"Method 3: Get specific feed URL","title":"API Response Structure Reference","text":"","code":"url <- mobdb_feed_url(\"mdb-195\")"},{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":"method-4-direct-integration-with-tidytransit","dir":"","previous_headings":"Accessing Download URLs","what":"Method 4: Direct integration with tidytransit","title":"API Response Structure Reference","text":"","code":"gtfs <- mobdb_read_gtfs(\"mdb-195\") # or gtfs <- mobdb_read_gtfs(feeds[1, ])"},{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":"example-complete-workflow","dir":"","previous_headings":"","what":"Example: Complete Workflow","title":"API Response Structure Reference","text":"","code":"library(mobdb) library(dplyr)  # Set up authentication mobdb_set_key(\"your_refresh_token\")  # Search for California transit ca_feeds <- feeds(   subdivision_name = \"California\",   data_type = \"gtfs\",   status = \"active\" )  # View results ca_feeds |>   select(id, provider, status) |>   print(n = 20)  # Get download URLs ca_feeds |>   mutate(url = mobdb_extract_urls(ca_feeds)) |>   select(provider, url)  # Filter for specific provider sf_muni <- ca_feeds |>   filter(grepl(\"San Francisco\", provider, ignore.case = TRUE))  # Download with tidytransit if (nrow(sf_muni) > 0) {   library(tidytransit)   gtfs <- mobdb_read_gtfs(sf_muni[1, ])      # Analyze   gtfs$routes   gtfs$stops }"},{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":"dataset-object-structure","dir":"","previous_headings":"","what":"Dataset Object Structure","title":"API Response Structure Reference","text":"call mobdb_datasets():","code":""},{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":"search-results-structure-from-mobdb_search","dir":"","previous_headings":"","what":"Search Results Structure (from mobdb_search)","title":"API Response Structure Reference","text":"Search results include fields feeds PLUS additional nested data:","code":""},{"path":[]},{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":"locations-list-of-data-frames","dir":"","previous_headings":"Search Results Structure (from mobdb_search) > Additional Fields in Search Results","what":"locations (list of data frames)","title":"API Response Structure Reference","text":"feed can multiple locations:","code":"results <- mobdb_search(\"transit\")  # Access locations for first result results$locations[[1]] #   country_code country       subdivision_name municipality #   \"US\"         \"United States\" \"California\"   \"Los Angeles\"  # Use helper to extract all locations locations <- mobdb_extract_locations(results)"},{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":"latest_dataset-data-frame","dir":"","previous_headings":"Search Results Structure (from mobdb_search) > Additional Fields in Search Results","what":"latest_dataset (data frame)","title":"API Response Structure Reference","text":"Complete information recent validated dataset: Contains: - id - Dataset identifier - hosted_url - URL download validated GTFS (preferred producer_url) - downloaded_at - Capture timestamp - hash - File hash - service_date_range_start - First date service - service_date_range_end - Last date service - agency_timezone - Timezone agency - validation_report - Nested validation results: - features - List GTFS features used - total_error - Count validation errors - total_warning - Count warnings - total_info - Count info messages - unique_error_count - Unique error types - unique_warning_count - Unique warning types Important: hosted_url latest_dataset validated, hosted copy feed. often reliable original producer_url.","code":"results$latest_dataset # Extract dataset information datasets <- mobdb_extract_datasets(results)  # Filter for feeds with no validation errors clean_feeds <- datasets |> filter(total_error == 0)  # Use hosted URLs for downloading results$latest_dataset$hosted_url[1]"},{"path":[]},{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":"extract-urls","dir":"","previous_headings":"Helper Functions for Search Results","what":"Extract URLs","title":"API Response Structure Reference","text":"","code":"results <- mobdb_search(\"California\")  # Get producer URLs (original source) urls <- mobdb_extract_urls(results)  # Or get validated hosted URLs (recommended) hosted_urls <- results$latest_dataset$hosted_url"},{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":"extract-locations","dir":"","previous_headings":"Helper Functions for Search Results","what":"Extract Locations","title":"API Response Structure Reference","text":"","code":"# Unnest locations (one row per feed-location pair) locations <- mobdb_extract_locations(results, unnest = TRUE)  # Or get summary (one row per feed with combined locations) location_summary <- mobdb_extract_locations(results, unnest = FALSE)"},{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":"extract-dataset-info","dir":"","previous_headings":"Helper Functions for Search Results","what":"Extract Dataset Info","title":"API Response Structure Reference","text":"","code":"# Get dataset details with validation status datasets <- mobdb_extract_datasets(results)  # Find feeds with no errors perfect_feeds <- datasets |>    filter(total_error == 0, total_warning == 0)  # Check service date coverage datasets |>   filter(service_date_range_end >= Sys.Date())"},{"path":[]},{"path":[]},{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":"filter-active-gtfs-feeds","dir":"","previous_headings":"Common Patterns","what":"Filter active GTFS feeds","title":"API Response Structure Reference","text":"","code":"active_gtfs <- feeds(   data_type = \"gtfs\",   status = \"active\" )"},{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":"search-and-filter","dir":"","previous_headings":"Common Patterns","what":"Search and filter","title":"API Response Structure Reference","text":"","code":"results <- mobdb_search(\"metro\") |>   filter(status == \"active\") |>   filter(data_type == \"gtfs\")"},{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":"get-urls-for-batch-download","dir":"","previous_headings":"Common Patterns","what":"Get URLs for batch download","title":"API Response Structure Reference","text":"","code":"feeds <- feeds(country_code = \"US\", limit = 100) urls <- mobdb_extract_urls(feeds)  # Download all (be respectful of rate limits!) for (url in urls[!is.na(urls)]) {   # Your download logic here }"},{"path":"https://mobdb.pages.dev/API_STRUCTURE.html","id":"notes","dir":"","previous_headings":"","what":"Notes","title":"API Response Structure Reference","text":"source_info field data frame, simple list feeds authentication_type = 0 (auth required) URLs source_info$producer_url can direct GTFS zip files GBFS JSON endpoints feeds fields populated Empty strings empty lists common optional fields","code":""},{"path":"https://mobdb.pages.dev/articles/gbfs-and-gtfs-rt.html","id":"gtfs-realtime-data-structure","dir":"Articles","previous_headings":"","what":"GTFS-Realtime data structure","title":"Working with GTFS-Realtime and GBFS","text":"GTFS-Realtime, time writing, supports four distinct feed entities: TripUpdates - fluctuations timetable - “Bus X delayed 2 minutes” ServiceAlerts - problems/issues entity - “Stop Y closed” VehiclePositions - vehicle location sometimes speed - “bus position X time Y” TripModifications - detours affect set trips - “X weekend, XYZ trips detour” detailed overview feed entity available official GTFS reference. GTFS-Realtime data encoded decoded Protocol Buffers. R, Protocol Buffers can interpreted using RProtoBuf package.","code":""},{"path":"https://mobdb.pages.dev/articles/gbfs-and-gtfs-rt.html","id":"how-mobdb-handles-gtfs-realtime","dir":"Articles","previous_headings":"GTFS-Realtime data structure","what":"How mobdb handles GTFS-Realtime","title":"Working with GTFS-Realtime and GBFS","text":"mobdb, whether feeds() mobdb_search() surface available GTFS-Realtime feeds Mobility Database. URL retrieved mobdb_feed_url() protobuf endpoint url. Note: Many GTFS-Realtime producers require authentication access endpoints. Use source_info data frame get authentication information Mobility Database.","code":"# TransLink Vancouver GTFS-RT gtfs_rt_yvr <- feeds(provider = \"TransLink Vancouver\", data_type = \"gtfs_rt\")  # read URL for GTFS-RT vehicle position mobdb_feed_url(gtfs_rt_yvr$id[1])  # TransLink, like many agencies, requires authentication for their RT API # Get authentication information from Mobility Database yvr_rt_auth <- gtfs_rt_yvr$source_info[1, ]  # Get column names names(yvr_rt_auth)  # Get registration URL yvr_rt_auth$authentication_info_url  # Get API key parameter yvr_rt_auth$api_key_parameter_name"},{"path":"https://mobdb.pages.dev/articles/gbfs-and-gtfs-rt.html","id":"parsing-gtfs-realtime-with-rprotobuf","dir":"Articles","previous_headings":"GTFS-Realtime data structure","what":"Parsing GTFS-Realtime with RProtoBuf","title":"Working with GTFS-Realtime and GBFS","text":"URL, can use RProtoBuf decode Protocol Buffer data: Note: GTFS-Realtime Protocol Buffer definition maintained Google Transit GitHub repository. example downloads automatically, can also save locally repeated use.","code":"library(RProtoBuf)  gtfs_rt_example <- feeds(provider = \"sample-agency\", data_type = \"gtfs_rt\")  # read URL for GTFS-RT vehicle position example_url <- mobdb_feed_url(gtfs_rt_example$id[1])  # Download and read the GTFS-RT .proto definition # Available at: https://gtfs.org/documentation/realtime/gtfs-realtime.proto proto_url <- \"https://raw.githubusercontent.com/google/transit/master/gtfs-realtime/proto/gtfs-realtime.proto\" proto_file <- tempfile(fileext = \".proto\") download.file(proto_url, proto_file, quiet = TRUE) readProtoFiles(proto_file)  # Fetch and parse the feed con <- url(gtfs_rt_example, \"rb\") feed <- read(transit_realtime.FeedMessage, con) close(con)  # Access vehicle positions for (entity in feed$entity) {   if (entity$has(\"vehicle\")) {     vehicle <- entity$vehicle     cat(\"Vehicle ID:\", vehicle$vehicle$id, \"\\n\")     cat(\"Position:\", vehicle$position$latitude, \",\", vehicle$position$longitude, \"\\n\")     cat(\"Timestamp:\", vehicle$timestamp, \"\\n\\n\")   } }"},{"path":"https://mobdb.pages.dev/articles/gbfs-and-gtfs-rt.html","id":"gbfs-data-structure","dir":"Articles","previous_headings":"","what":"GBFS data structure","title":"Working with GTFS-Realtime and GBFS","text":"GBFS, General Bikeshare Feed Specification, “real-time, pull-based, data specification describes current status mobility system”. words, GBFS defines status shared mobility systems like bikeshare scooter share systems. Unlike GTFS-Schedule GTFS-Realtime, structured series JSON files. latest version (v3), two files required GBFS feed: gbfs.json - auto-discovery file core information shared mobility feed shares files available system_information.json - defines core information shared mobility system feed types conditionally required depending system type (e.g. dock vs dockless), others fully optional. full list GBFS feed entities requirements available official GBFS reference documentation GitHub repo.","code":""},{"path":"https://mobdb.pages.dev/articles/gbfs-and-gtfs-rt.html","id":"how-mobdb-handles-gbfs","dir":"Articles","previous_headings":"GBFS data structure","what":"How mobdb handles GBFS","title":"Working with GTFS-Realtime and GBFS","text":"mobdb, whether feeds() mobdb_search() surface available GBFS feeds Mobility Database. URL retrieved mobdb_feed_url() auto-discovery endpoint (.e. gbfs.json). can passed jsonlite parsing dedicated gbfs package discovery.","code":"# Search GBFS feeds in Vancouver gbfs_yvr <- mobdb_search(\"vancouver\", data_type = \"gbfs\")  yvr_feed <- mobdb_feed_url(gbfs_yvr$id[1])  yvr_feed library(gbfs)  gbfs_yvr <- mobdb_search(\"vancouver\", data_type = \"gbfs\") yvr_feed <- mobdb_feed_url(gbfs_yvr$id[1]) yvr_station_info <- get_station_information(yvr_feed, output = \"return\")"},{"path":"https://mobdb.pages.dev/articles/gbfs-and-gtfs-rt.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Working with GTFS-Realtime and GBFS","text":"vignette covered basics discovering GTFS-Realtime GBFS feeds using mobdb. working actual feed data: GTFS-Realtime: Use RProtoBuf package decode Protocol Buffer data GBFS: Use gbfs package streamlined access bikeshare data, jsonlite direct JSON parsing discovering GTFS Schedule feeds working historical transit data, see main package documentation vignettes.","code":""},{"path":"https://mobdb.pages.dev/articles/mobdb.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Introduction to mobdb","text":"mobdb first stop analyzing transit R. helps find download GTFS feeds Mobility Database, contains information 4000+ transit shared mobility feeds worldwide. discovering downloading feeds mobdb, can: Analyze feeds tidytransit - calculate frequencies, travel times, visualize routes Edit feeds gtfstools - filter, merge, validate feeds Read/Write feeds gtfsio - fast /O operations","code":""},{"path":"https://mobdb.pages.dev/articles/mobdb.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Introduction to mobdb","text":"Install mobdb GitHub:","code":"# install.packages(\"pak\") pak::pak(\"jasonad123/mobdb\")"},{"path":"https://mobdb.pages.dev/articles/mobdb.html","id":"authentication","dir":"Articles","previous_headings":"","what":"Authentication","title":"Introduction to mobdb","text":"Mobility Database API requires authentication. ’ll need : Go https://mobilitydatabase.org/ Sign (create free account) Go account settings Generate API refresh token Store R environment Tip: Store token .Renviron file avoid entering session:","code":"library(mobdb)  # Shortcut to launch the Mobility Database in your browser mobdb_browse()  # Set your API refresh token (do this once) # mobdb_set_key(\"your-refresh-token-here\")  # Check if authentication is configured mobdb_has_key() #> [1] TRUE usethis::edit_r_environ() # Add this line: # MOBDB_REFRESH_TOKEN=your-refresh-token-here"},{"path":[]},{"path":"https://mobdb.pages.dev/articles/mobdb.html","id":"step-1-discover-feeds","dir":"Articles","previous_headings":"Basic Workflow: Discovery → Download → Analysis","what":"Step 1: Discover feeds","title":"Introduction to mobdb","text":"Find GTFS feeds using various search criteria:","code":"# Find all feeds in California ca_feeds <- feeds(   country_code = \"US\",   subdivision_name = \"California\",   data_type = \"gtfs\" )  # View results head(ca_feeds) #> # A tibble: 6 × 10 #>   id       data_type status provider     feed_name location...  # Search by provider name bart_feeds <- feeds(\"BART\") bart_feeds"},{"path":"https://mobdb.pages.dev/articles/mobdb.html","id":"step-2-download-feeds","dir":"Articles","previous_headings":"Basic Workflow: Discovery → Download → Analysis","what":"Step 2: Download feeds","title":"Introduction to mobdb","text":"Download specific feed ID search term:","code":"# Download by feed ID (Bay Area Rapid Transit) bart <- download_feed(\"mdb-53\")  # Or search and download in one step (use full name for better results) bart <- download_feed(provider = \"Bay Area Rapid Transit\")  # The result is a gtfs object (from tidytransit) class(bart) #> [1] \"tidygtfs\" \"gtfs\"     \"list\"  names(bart) #> [1] \"agency\" \"calendar\" \"calendar_attributes\" \"calendar_dates\" \"directions\" ..."},{"path":"https://mobdb.pages.dev/articles/mobdb.html","id":"step-3-analyze-feeds-with-tidytransit","dir":"Articles","previous_headings":"Basic Workflow: Discovery → Download → Analysis","what":"Step 3: Analyze feeds with tidytransit","title":"Introduction to mobdb","text":"Now feed, use tidytransit analysis:","code":"library(tidytransit)  # Validate the feed validation <- validate_gtfs(bart) summary(validation)  # Calculate stop frequencies stop_freq <- get_stop_frequency(bart) head(stop_freq)  # Calculate route frequencies route_freq <- get_route_frequency(bart) head(route_freq)  # Convert to spatial features bart_sf <- gtfs_as_sf(bart) plot(bart_sf$stops)"},{"path":[]},{"path":"https://mobdb.pages.dev/articles/mobdb.html","id":"finding-feeds-by-location","dir":"Articles","previous_headings":"Common use cases","what":"Finding Feeds by Location","title":"Introduction to mobdb","text":"","code":"# Find feeds in a specific municipality seattle_feeds <- feeds(municipality = \"Seattle\", data_type = \"gtfs\")  # Find feeds in a country canada_feeds <- feeds(country_code = \"CA\", data_type = \"gtfs\")  # Combine filters bc_feeds <- feeds(   country_code = \"CA\",   subdivision_name = \"British Columbia\",   status = \"active\",   data_type = \"gtfs\" )"},{"path":"https://mobdb.pages.dev/articles/mobdb.html","id":"working-with-multiple-feeds","dir":"Articles","previous_headings":"Common use cases","what":"Working with Multiple Feeds","title":"Introduction to mobdb","text":"","code":"# Get feeds for several cities agencies <- c(\"TriMet\", \"King County Metro\", \"TransLink Vancouver\") feeds_list <- lapply(agencies, function(agency) {   feeds <- feeds(provider = agency, data_type = \"gtfs\")   if (nrow(feeds) > 0) {     download_feed(feeds$id[1])   } })  # Analyze each feed with tidytransit library(tidytransit) frequencies <- lapply(feeds_list, function(gtfs) {   if (!is.null(gtfs)) get_stop_frequency(gtfs) })"},{"path":"https://mobdb.pages.dev/articles/mobdb.html","id":"complete-example-workflow","dir":"Articles","previous_headings":"","what":"Complete Example Workflow","title":"Introduction to mobdb","text":"’s complete example discovery analysis:","code":"library(mobdb) library(tidytransit) library(ggplot2) library(tidyverse) library(sf)  # 1. DISCOVER: Find feeds in Vancouver, BC, Canada vancouver_feeds <- feeds(   provider = \"TransLink\",   municipality = \"Vancouver\",   country_code = \"CA\",   data_type = \"gtfs\" )  # 2. DOWNLOAD: Get the sixth feed (TransLink) translink <- download_feed(vancouver_feeds$id[1])  # 3. VALIDATE: Check feed quality (tidytransit) validation <- validate_gtfs(translink) print(validation)  # 3a. VALIDATE (another way): Check feed quality (using the MobilityData report) vancouver_datasets <- mobdb_datasets(vancouver_feeds$id[1]) feed_report <- get_validation_report(vancouver_datasets) print(feed_report)  # 4. ANALYZE: Calculate AM route frequencies (tidytransit) am_route_freq <- get_route_frequency(translink,                                      start_time = 6 * 3600, end_time = 10 * 3600) head(am_route_freq) %>%   knitr::kable()  # get_route_geometry needs a gtfs object that includes shapes as simple feature data frames translink <- gtfs_as_sf(translink) routes_sf <- get_route_geometry(translink)  routes_sf <- routes_sf %>%   inner_join(am_route_freq, by = \"route_id\")  # 5. VISUALIZE: Plot routes with (tidytransit + ggplot2) # convert to an appropriate coordinate reference system routes_sf_crs <- sf::st_transform(routes_sf, 26910)  routes_sf_crs %>%   filter(median_headways < 10 * 60) %>%   ggplot() +   geom_sf(aes(colour = as.factor(median_headways))) +   labs(color = \"Headways\") +   geom_sf_text(aes(label = route_id)) +   theme_bw()  routes_sf_buffer <- st_buffer(routes_sf, dist = routes_sf$total_departures / 1e6)  routes_sf_buffer %>%   ggplot() +   geom_sf(colour = alpha(\"white\", 0), fill = alpha(\"blue\", 0.5)) +   theme_bw()"},{"path":"https://mobdb.pages.dev/articles/mobdb.html","id":"related-packages","dir":"Articles","previous_headings":"","what":"Related packages","title":"Introduction to mobdb","text":"mobdb just first stop, end route comes transit transportation R. packages R ecosystem analyzing GTFS. tidytransit: tool read analyze GTFS feeds gtfstools: Edit validate feeds gtfsio: Fast /O operations like saving GTFS back ZIP files GTFS files GTFS objects, can perform pretty interesting analysis tools like: R5r: wrapper R5 routing engine, perform travel time access analysis dodgr: Distances Directed Graphs R","code":""},{"path":"https://mobdb.pages.dev/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Jason . Author, maintainer.","code":""},{"path":"https://mobdb.pages.dev/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"J (2025). mobdb: Access Mobility Database API. R package version 0.1.5, https://github.com/jasonad123/mobdb.","code":"@Manual{,   title = {mobdb: Access the Mobility Database API},   author = {Jason A},   year = {2025},   note = {R package version 0.1.5},   url = {https://github.com/jasonad123/mobdb}, }"},{"path":"https://mobdb.pages.dev/index.html","id":"mobdb-","dir":"","previous_headings":"","what":"Access the Mobility Database API","title":"Access the Mobility Database API","text":"mobdb provides R functions search access transit feed data Mobility Database. package wraps Mobility Database Catalog API, enabling discovery GTFS (General Transit Feed Specification) Schedule, GTFS Realtime, GBFS (General Bikeshare Feed Specification) feeds organizations worldwide.","code":""},{"path":"https://mobdb.pages.dev/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Access the Mobility Database API","text":"can install development version mobdb GitHub:","code":"# Install using pak (recommended) # install.packages(\"pak\") pak::pak(\"jasonad123/mobdb\")  # Or using remotes # install.packages(\"remotes\") remotes::install_github(\"jasonad123/mobdb\")"},{"path":"https://mobdb.pages.dev/index.html","id":"authentication","dir":"","previous_headings":"","what":"Authentication","title":"Access the Mobility Database API","text":"use Mobility Database Catalog API, need refresh token: Sign mobilitydatabase.org Navigate account details page view refresh token Set token R: Alternatively, can set MOBDB_REFRESH_TOKEN environment variable .Renviron file.","code":"library(mobdb)  # For current session only mobdb_set_key(\"your_refresh_token_here\")  # To save permanently in .Renviron mobdb_set_key(\"your_refresh_token_here\", install = TRUE)"},{"path":[]},{"path":"https://mobdb.pages.dev/index.html","id":"search-for-feeds","dir":"","previous_headings":"Usage","what":"Search for feeds","title":"Access the Mobility Database API","text":"","code":"# Search by provider name bart_feeds <- feeds(provider = \"BART\")  # Filter feeds by location on_feeds <- feeds(   country_code = \"CA\",   subdivision_name = \"Ontario\",   data_type = \"gtfs\" )  # Or search generically toronto <- mobdb_search(provider = \"toronto\")  # Note: mobdb_search() has known issues with relevance ranking.  # Use feeds() with filters for more precise results."},{"path":"https://mobdb.pages.dev/index.html","id":"download-gtfs-schedule-feeds","dir":"","previous_headings":"Usage","what":"Download GTFS Schedule feeds","title":"Access the Mobility Database API","text":"download_feed() function downloads GTFS Schedule feeds feed ID searching providers/locations. Note: multiple feeds match search criteria, function displays table options prompts specify feed download using feed ID.","code":"library(tidytransit) library(gtfsio)  # Download by feed ID stm_montreal <- download_feed(\"mdb-2126\")  # Download by provider name (excludes GTFS-Flex feeds automatically) bart_gtfs <- download_feed(provider = \"BART\")  # Use feed_name parameter when multiple feeds exist for a provider dc_bus <- download_feed(provider = \"WMATA\", feed_name = \"Bus\")  # Download from agency source URL instead of MobilityData hosted version kcm_gtfs <- download_feed(provider = \"King County\", use_source_url = TRUE)  # Filter by location on_gtfs <- download_feed(   country_code = \"CA\",   subdivision_name = \"Ontario\" )  # Export as GTFS zip file pdx_gtfs <- download_feed(\"mdb-247\") export_gtfs(stm_montreal, \"data/gtfs/trimet.zip\")  # Check exported file contents zip::zip_list(\"data/gtfs/trimet.zip\")$filename #> [1] \"agency.txt\"         \"calendar.txt\"       \"calendar_dates.txt\" #> [4] \"feed_info.txt\"      \"routes.txt\"         \"shapes.txt\" #> [7] \"stops.txt\"          \"stop_times.txt\"     \"trips.txt\" gtfs <- download_feed(provider = \"San Francisco\") #> Searching for GTFS Schedule feeds... #> ! Found 2 matching feeds: #> #> # A tibble: 2 × 4 #>   id     provider                                          feed_name status #>   <chr>  <chr>                                             <chr>     <chr> #> 1 mdb-62 San Francisco Bay Area Water Emergency Transp... \"\"        active #> 2 mdb-50 San Francisco Municipal Transportation Agency ... \"\"        inactive #> #> Error: Multiple feeds found. Please specify which one to download. #> Use `download_feed(feed_id = \"mdb-XXX\")` with one of the IDs above."},{"path":"https://mobdb.pages.dev/index.html","id":"get-feed-details","dir":"","previous_headings":"Usage","what":"Get feed details","title":"Access the Mobility Database API","text":"","code":"# Get detailed information about a specific feed feed_info <- mobdb_get_feed(\"mdb-247\")  # Get just the download URL url <- mobdb_feed_url(\"mdb-247\")  # Or extract URLs from multiple feeds (requires data_type for location filters) feeds <- feeds(country_code = \"US\", data_type = \"gtfs\", limit = 10) urls <- mobdb_extract_urls(feeds)"},{"path":"https://mobdb.pages.dev/index.html","id":"check-feed-quality-before-downloading","dir":"","previous_headings":"Usage","what":"Check feed quality before downloading","title":"Access the Mobility Database API","text":"MobilityData validates GTFS Schedule feeds canonical GTFS validator. can check validation results downloading:","code":"# Get validation report for a feed datasets <- mobdb_datasets(\"mdb-482\")  # Alexandria DASH validation <- get_validation_report(datasets) validation #> # A tibble: 1 × 12 #>   dataset_id    feed_id total_error total_warning total_info html_report #>   <chr>         <chr>         <int>         <int>      <int> <chr> #> 1 mdb-482-2025… mdb-482           0            38          0 https://...  # View detailed validation report in browser view_validation_report(\"mdb-482\")  # Check feed quality, then download if clean if (validation$total_error == 0) {   gtfs <- download_feed(\"mdb-482\") }"},{"path":"https://mobdb.pages.dev/index.html","id":"access-historical-datasets","dir":"","previous_headings":"Usage","what":"Access historical datasets","title":"Access the Mobility Database API","text":"","code":"# List all available versions for a feed versions <- download_feed(\"mdb-53\", latest = FALSE)  # BART nrow(versions) #> [1] 29  # Download a specific historical version historical <- download_feed(dataset_id = \"mdb-53-202507240047\")  # Compare validation across versions recent_versions <- versions[1:3, ] sapply(1:3, function(i) {   get_validation_report(recent_versions[i, ])$total_error }) #> [1]   2 266   2"},{"path":"https://mobdb.pages.dev/index.html","id":"using-with-tidytransit","dir":"","previous_headings":"Usage","what":"Using with tidytransit","title":"Access the Mobility Database API","text":"package provides two functions working tidytransit: download_feed() - Download GTFS Schedule feeds provider/location search (recommended) mobdb_read_gtfs() - flexible reader works GTFS feed type","code":"library(tidytransit) library(dplyr)  # Download GTFS Schedule feed with search (recommended for most users) gtfs <- download_feed(provider = \"TriMet\")  # Or use mobdb_read_gtfs() for more flexibility gtfs <- mobdb_read_gtfs(\"mdb-247\")  # Pass a data frame from feeds() feeds <- feeds(provider = \"TriMet\", data_type = \"gtfs\") gtfs <- mobdb_read_gtfs(feeds[1, ])  # Or manually extract URLs and use tidytransit directly urls <- mobdb_extract_urls(feeds) gtfs <- read_gtfs(urls[1])  # Now analyze with tidytransit gtfs$routes gtfs$stops"},{"path":"https://mobdb.pages.dev/index.html","id":"pagination","dir":"","previous_headings":"Usage","what":"Pagination","title":"Access the Mobility Database API","text":"large result sets, use pagination:","code":"# Get first 100 results page1 <- feeds(limit = 100, offset = 0)  # Get next 100 results page2 <- feeds(limit = 100, offset = 100)"},{"path":"https://mobdb.pages.dev/index.html","id":"related-packages","dir":"","previous_headings":"","what":"Related Packages","title":"Access the Mobility Database API","text":"tidytransit - Read, validate, analyze GTFS feeds gtfstools - Edit analyze GTFS feeds gtfsio - Read write GTFS files","code":""},{"path":"https://mobdb.pages.dev/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Access the Mobility Database API","text":"MIT License","code":""},{"path":"https://mobdb.pages.dev/index.html","id":"disclaimers","dir":"","previous_headings":"","what":"Disclaimers","title":"Access the Mobility Database API","text":"Affiliated MobilityData: package independent, community-developed project officially affiliated , endorsed , supported MobilityData Mobility Database project. third-party API wrapper created facilitate R users’ access Mobility Database. Work Progress: package active development. functions tested live API package passes R CMD check, API structure may change, features still refined. Use production environments discretion. Generative AI Assistance: code documentation developed assistance generative AI tools, including Claude Claude Code. outputs reviewed tested, users validate results independently use production environments.","code":""},{"path":"https://mobdb.pages.dev/reference/download_feed.html","id":null,"dir":"Reference","previous_headings":"","what":"Download GTFS Schedule feeds — download_feed","title":"Download GTFS Schedule feeds — download_feed","text":"convenience function downloading GTFS Schedule feeds Mobility Database. \"one-stop-shop\" can search feeds provider/location download single call, download specific feed ID. Note: function specifically designed GTFS Schedule feeds . GTFS Realtime GBFS feeds use different data model supported function. function formerly called mobdb_download_feed().","code":""},{"path":"https://mobdb.pages.dev/reference/download_feed.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download GTFS Schedule feeds — download_feed","text":"","code":"download_feed(   feed_id = NULL,   provider = NULL,   country_code = NULL,   subdivision_name = NULL,   municipality = NULL,   exclude_flex = TRUE,   feed_name = NULL,   use_source_url = FALSE,   dataset_id = NULL,   latest = TRUE,   status = \"active\",   official = NULL,   ... )"},{"path":"https://mobdb.pages.dev/reference/download_feed.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download GTFS Schedule feeds — download_feed","text":"feed_id string data frame. unique identifier feed (e.g., \"mdb-2862\"), single-row data frame feeds() mobdb_search(). data frame provided, feed ID extracted automatically. provided, search parameters ignored. provider string. Filter provider/agency name (partial match). Use search feeds without knowing feed_id. country_code string. Two-letter ISO country code (e.g., \"US\", \"CA\"). subdivision_name string. State, province, region name. municipality string. City municipality name. exclude_flex logical. TRUE (default), automatically exclude feeds \"flex\" feed name (case-insensitive). GTFS-Flex feeds extension GTFS Schedule specification may contain files unique schemas may work standard GTFS tools. feed_name string. Optional filter feed name. provided, feeds whose feed_name contains string (case-insensitive) considered. Use NULL (default) skip filter. use_source_url logical. FALSE (default), uses MobilityData's hosted/archived URL ensures get exact version database. TRUE, uses provider's direct source URL may current differ MobilityData's version. dataset_id string. Optional specific dataset ID historical versions (e.g., \"mdb-53-202510250025\"). provided, downloads specific dataset version instead latest. used use_source_url = TRUE. dataset_id provided without feed_id, feed ID automatically extracted dataset ID format. latest logical. TRUE (default), download recent dataset. FALSE, returns information available datasets feed without downloading. works feed_id provided directly; used search parameters like provider country_code. status string. Feed status filter: \"active\" (default), \"deprecated\", \"inactive\", \"development\", \"future\". used searching provider/location. official logical. TRUE (default), return official feeds feeds unknown official status (NA) searching provider/location. FALSE, return feeds explicitly marked unofficial. NULL, return feeds regardless official status. ... Additional arguments passed tidytransit::read_gtfs().","code":""},{"path":"https://mobdb.pages.dev/reference/download_feed.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download GTFS Schedule feeds — download_feed","text":"latest = TRUE, gtfs object returned tidytransit::read_gtfs(). latest = FALSE, tibble available datasets metadata.","code":""},{"path":[]},{"path":"https://mobdb.pages.dev/reference/download_feed.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download GTFS Schedule feeds — download_feed","text":"","code":"if (FALSE) { # \\dontrun{ # Download by feed ID gtfs <- download_feed(\"mdb-2862\")  # Download from search results feeds <- feeds(provider = \"TransLink\") gtfs <- download_feed(feeds[36, ])  # Search and download by provider name (excludes Flex automatically) gtfs <- download_feed(provider = \"Arlington\")  # Download using agency's source URL instead of MobilityData hosted gtfs <- download_feed(provider = \"TriMet\", use_source_url = TRUE)  # Include Flex feeds in search gtfs <- download_feed(provider = \"Arlington\", exclude_flex = FALSE)  # Filter by location gtfs <- download_feed(   country_code = \"US\",   subdivision_name = \"California\",   municipality = \"San Francisco\" )  # Search and download all feeds, including unofficial ones gtfs <- download_feed(provider = \"TTC\", official = NULL)  # See all available versions for a feed versions <- download_feed(\"mdb-2862\", latest = FALSE)  # Download a specific historical version (feed_id auto-extracted from dataset_id) historical <- download_feed(dataset_id = \"mdb-53-202507240047\")  # Or specify both explicitly historical <- download_feed(\"mdb-53\", dataset_id = \"mdb-53-202507240047\") } # }"},{"path":"https://mobdb.pages.dev/reference/ensure_cache_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Ensure cache directory exists — ensure_cache_dir","title":"Ensure cache directory exists — ensure_cache_dir","text":"Creates cache directory exist.","code":""},{"path":"https://mobdb.pages.dev/reference/ensure_cache_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ensure cache directory exists — ensure_cache_dir","text":"","code":"ensure_cache_dir()"},{"path":"https://mobdb.pages.dev/reference/ensure_cache_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Ensure cache directory exists — ensure_cache_dir","text":"Character string cache directory path (invisibly)","code":""},{"path":"https://mobdb.pages.dev/reference/feeds.html","id":null,"dir":"Reference","previous_headings":"","what":"List and filter GTFS Schedule, GTFS-RT, and GBFS feeds — feeds","title":"List and filter GTFS Schedule, GTFS-RT, and GBFS feeds — feeds","text":"Query Mobility Database transit/bikeshare feeds matching specified criteria. Returns tibble feed metadata including download URLs. function formerly called mobdb_feeds().","code":""},{"path":"https://mobdb.pages.dev/reference/feeds.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List and filter GTFS Schedule, GTFS-RT, and GBFS feeds — feeds","text":"","code":"feeds(   provider = NULL,   country_code = NULL,   subdivision_name = NULL,   municipality = NULL,   data_type = NULL,   status = NULL,   official = NULL,   limit = 100,   offset = 0,   use_cache = TRUE )"},{"path":"https://mobdb.pages.dev/reference/feeds.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List and filter GTFS Schedule, GTFS-RT, and GBFS feeds — feeds","text":"provider string. Filter provider/agency name (partial match). country_code string. Two-letter ISO country code (e.g., \"US\", \"CA\"). Note: Location filters (country_code, subdivision_name, municipality) require data_type specified. subdivision_name string. State, province, region name. Requires data_type specified. municipality string. City, municipality, jurisdiction name. Requires data_type specified. data_type string. Type feed: \"gtfs\" (schedule), \"gtfs_rt\" (realtime), \"gbfs\" (bike share). Required using location filters. status string. Feed status: \"active\", \"deprecated\", \"inactive\", \"development\", \"future\". official logical. TRUE, return official feeds. FALSE, return unofficial feeds. NULL (default), return feeds regardless official status. limit integer. Maximum number results return (default: 100). offset integer. Number results skip pagination (default: 0). use_cache logical. TRUE (default), use cached results available. FALSE, always fetch fresh data API. Cached data expires 1 hour.","code":""},{"path":"https://mobdb.pages.dev/reference/feeds.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List and filter GTFS Schedule, GTFS-RT, and GBFS feeds — feeds","text":"tibble containing feed information columns including: id - Unique feed identifier data_type - Type feed (gtfs, gtfs_rt, gbfs) created_at - Date time feed added database external_ids - External identifier information provider - Transit agency/provider name feed_contact_email - Contact email feed source_info - Data frame containing: producer_url - Direct download URL feed authentication_type - Type auth required (0 = none) authentication_info_url - Human-readable page authentication info api_key_parameter_name - Name parameter pass URL provide API key license_url - License information created_at - Feed creation timestamp status - Feed status (active, inactive, deprecated) official - Whether feed official official_updated_at - Date time last update Additional metadata columns","code":""},{"path":"https://mobdb.pages.dev/reference/feeds.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List and filter GTFS Schedule, GTFS-RT, and GBFS feeds — feeds","text":"","code":"if (FALSE) { # \\dontrun{ # Get all active GTFS feeds in California ca_feeds <- feeds(   country_code = \"US\",   subdivision_name = \"California\",   data_type = \"gtfs\",   status = \"active\" )  # Search for a specific provider sf_muni <- feeds(provider = \"San Francisco\")  # Get feeds with pagination first_100 <- feeds(limit = 100, offset = 0) next_100 <- feeds(limit = 100, offset = 100) } # }"},{"path":"https://mobdb.pages.dev/reference/feeds_bbox.html","id":null,"dir":"Reference","previous_headings":"","what":"Find GTFS Schedule feeds by location — feeds_bbox","title":"Find GTFS Schedule feeds by location — feeds_bbox","text":"Discover GTFS Schedule feeds whose geographic coverage overlaps contained within specified bounding box. function designed feed discovery based geographic location. Important: function works GTFS Schedule feeds bounding box data derived feed's latest dataset.","code":""},{"path":"https://mobdb.pages.dev/reference/feeds_bbox.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find GTFS Schedule feeds by location — feeds_bbox","text":"","code":"feeds_bbox(   bbox,   filter_method = \"completely_enclosed\",   provider = NULL,   country_code = NULL,   subdivision_name = NULL,   municipality = NULL,   status = NULL,   official = NULL,   limit = 100,   offset = 0,   use_cache = TRUE )"},{"path":"https://mobdb.pages.dev/reference/feeds_bbox.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find GTFS Schedule feeds by location — feeds_bbox","text":"bbox numeric vector length 4 specifying bounding box c(min_lon, min_lat, max_lon, max_lat) WGS84 coordinates (EPSG:4326). Alternatively, sf bbox object can provided sf installed. filter_method string. Method filtering feeds bounding box: \"completely_enclosed\" (default) - Feeds whose coverage fully inside specified bounding box \"partially_enclosed\" - Feeds whose coverage overlaps box \"disjoint\" - Feeds whose coverage completely outside box provider string. Filter provider/agency name (partial match). country_code string. Two-letter ISO country code (e.g., \"US\", \"CA\"). subdivision_name string. State, province, region name. municipality string. City municipality name. status string. Feed status: \"active\", \"deprecated\", \"inactive\", \"development\", \"future\". official logical. TRUE, return official feeds. FALSE, return unofficial feeds. NULL (default), return feeds regardless official status. limit integer. Maximum number results return (default: 100). offset integer. Number results skip pagination (default: 0). use_cache logical. TRUE (default), use cached results available. FALSE, always fetch fresh data API. Cached data expires 1 hour.","code":""},{"path":"https://mobdb.pages.dev/reference/feeds_bbox.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Find GTFS Schedule feeds by location — feeds_bbox","text":"tibble containing GTFS Schedule feed information columns including: id - Unique feed identifier data_type - Always \"gtfs\" function provider - Transit agency/provider name status - Feed status source_info - Data frame containing download URLs auth info latest_dataset - Information recent dataset including bounding box coordinates Additional metadata columns","code":""},{"path":"https://mobdb.pages.dev/reference/feeds_bbox.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Find GTFS Schedule feeds by location — feeds_bbox","text":"","code":"if (FALSE) { # \\dontrun{ # Find feeds in the San Francisco Bay Area # Bounding box: c(min_lon, min_lat, max_lon, max_lat) bay_area_feeds <- feeds_bbox(   bbox = c(-122.5, 37.2, -121.8, 38.0),   filter_method = \"partially_enclosed\" )  # Find feeds completely within Los Angeles County la_feeds <- feeds_bbox(   bbox = c(-118.9, 33.7, -118.0, 34.8),   filter_method = \"completely_enclosed\",   status = \"active\" )  # Use with sf package (if installed) library(sf) # Create bbox from sf object bbox_sf <- st_bbox(c(xmin = -122.5, ymin = 37.2,                      xmax = -121.8, ymax = 38.0),                    crs = 4326) feeds <- feeds_bbox(bbox = bbox_sf) } # }"},{"path":"https://mobdb.pages.dev/reference/filter_by_validation.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter feeds or datasets by validation quality — filter_by_validation","title":"Filter feeds or datasets by validation quality — filter_by_validation","text":"Filter feed dataset results validation quality thresholds. convenience wrapper around get_validation_report() returns original data filtered include feeds/datasets meeting quality criteria. Note: function support GBFS validation reports time GBFS validation reports located different endpoint different validation criteria.","code":""},{"path":"https://mobdb.pages.dev/reference/filter_by_validation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter feeds or datasets by validation quality — filter_by_validation","text":"","code":"filter_by_validation(   data,   max_errors = NULL,   max_warnings = NULL,   max_info = NULL,   require_validation = TRUE )"},{"path":"https://mobdb.pages.dev/reference/filter_by_validation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter feeds or datasets by validation quality — filter_by_validation","text":"data tibble feeds(), mobdb_datasets(), mobdb_search(). max_errors Maximum number validation errors allowed. Use 0 error-free feeds. NULL (default), error filtering applied. max_warnings Maximum number validation warnings allowed. NULL (default), warning filtering applied. max_info Maximum number informational notices allowed. NULL (default), info filtering applied. require_validation Logical. TRUE (default), exclude feeds/datasets validation data. FALSE, include results.","code":""},{"path":"https://mobdb.pages.dev/reference/filter_by_validation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter feeds or datasets by validation quality — filter_by_validation","text":"filtered version input data frame containing feeds/datasets meet specified quality criteria.","code":""},{"path":[]},{"path":"https://mobdb.pages.dev/reference/filter_by_validation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Filter feeds or datasets by validation quality — filter_by_validation","text":"","code":"if (FALSE) { # \\dontrun{ # Find all California feeds with zero errors ca_feeds <- feeds(   country_code = \"US\",   subdivision_name = \"California\",   data_type = \"gtfs\" ) clean_feeds <- filter_by_validation(ca_feeds, max_errors = 0)  # Find feeds with minimal issues quality_feeds <- filter_by_validation(   ca_feeds,   max_errors = 0,   max_warnings = 100 )  # Get historical BART datasets with improving quality bart <- feeds(provider = \"Bay Area Rapid Transit\") datasets <- mobdb_datasets(bart$id[1], latest = FALSE) improving <- filter_by_validation(datasets, max_errors = 5, max_warnings = 3000) } # }"},{"path":"https://mobdb.pages.dev/reference/generate_cache_key.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate cache key from parameters — generate_cache_key","title":"Generate cache key from parameters — generate_cache_key","text":"Creates unique cache key hashing provided parameters.","code":""},{"path":"https://mobdb.pages.dev/reference/generate_cache_key.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate cache key from parameters — generate_cache_key","text":"","code":"generate_cache_key(..., prefix = \"mobdb\")"},{"path":"https://mobdb.pages.dev/reference/generate_cache_key.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate cache key from parameters — generate_cache_key","text":"... Parameters include cache key prefix Character prefix cache key (default: \"mobdb\")","code":""},{"path":"https://mobdb.pages.dev/reference/generate_cache_key.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate cache key from parameters — generate_cache_key","text":"Character string cache key (filename)","code":""},{"path":"https://mobdb.pages.dev/reference/get_cache_ttl.html","id":null,"dir":"Reference","previous_headings":"","what":"Get default cache TTL by endpoint type — get_cache_ttl","title":"Get default cache TTL by endpoint type — get_cache_ttl","text":"Get default cache TTL endpoint type","code":""},{"path":"https://mobdb.pages.dev/reference/get_cache_ttl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get default cache TTL by endpoint type — get_cache_ttl","text":"","code":"get_cache_ttl(endpoint_type = c(\"feeds\", \"search\", \"datasets\", \"historical\"))"},{"path":"https://mobdb.pages.dev/reference/get_cache_ttl.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get default cache TTL by endpoint type — get_cache_ttl","text":"endpoint_type Type endpoint","code":""},{"path":"https://mobdb.pages.dev/reference/get_cache_ttl.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get default cache TTL by endpoint type — get_cache_ttl","text":"TTL hours","code":""},{"path":"https://mobdb.pages.dev/reference/get_mobdb_cache_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get mobdb cache directory path — get_mobdb_cache_path","title":"Get mobdb cache directory path — get_mobdb_cache_path","text":"Returns cache directory path, checking environment variables options falling back default R user directory.","code":""},{"path":"https://mobdb.pages.dev/reference/get_mobdb_cache_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get mobdb cache directory path — get_mobdb_cache_path","text":"","code":"get_mobdb_cache_path()"},{"path":"https://mobdb.pages.dev/reference/get_mobdb_cache_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get mobdb cache directory path — get_mobdb_cache_path","text":"Character string cache directory path","code":""},{"path":"https://mobdb.pages.dev/reference/get_mobdb_cache_path.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get mobdb cache directory path — get_mobdb_cache_path","text":"Priority order: MOBDB_CACHE_PATH environment variable mobdb.cache_path R option tools::R_user_dir(\"mobdb\", \"cache\") (default)","code":""},{"path":"https://mobdb.pages.dev/reference/get_validation_report.html","id":null,"dir":"Reference","previous_headings":"","what":"Get GTFS-Schedule validation report for feeds or datasets — get_validation_report","title":"Get GTFS-Schedule validation report for feeds or datasets — get_validation_report","text":"Extract validation report summary feed/dataset results. MobilityData runs GTFS Schedule feeds canonical GTFS validator, function surfaces validation data help assess feed quality downloading. Note: function support GBFS validation reports time GBFS validation reports located different endpoint different validation criteria.","code":""},{"path":"https://mobdb.pages.dev/reference/get_validation_report.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get GTFS-Schedule validation report for feeds or datasets — get_validation_report","text":"","code":"get_validation_report(data)"},{"path":"https://mobdb.pages.dev/reference/get_validation_report.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get GTFS-Schedule validation report for feeds or datasets — get_validation_report","text":"data tibble feeds(), mobdb_datasets(), mobdb_search().","code":""},{"path":"https://mobdb.pages.dev/reference/get_validation_report.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get GTFS-Schedule validation report for feeds or datasets — get_validation_report","text":"tibble validation summary information: feed_id dataset_id - Identifier provider - Provider name (available) total_error - Number validation errors total_warning - Number validation warnings total_info - Number informational notices html_report - URL full HTML validation report json_report - URL JSON validation report","code":""},{"path":[]},{"path":"https://mobdb.pages.dev/reference/get_validation_report.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get GTFS-Schedule validation report for feeds or datasets — get_validation_report","text":"","code":"if (FALSE) { # \\dontrun{ # Get validation report for feeds from search bart_feeds <- feeds(provider = \"Bay Area Rapid Transit\") datasets <- mobdb_datasets(bart_feeds$id[1]) validation <- get_validation_report(datasets) print(validation)  # Check TransLink Vancouver's validation (has known warnings) # Per TransLink's GTFS page \"We pass our data through Google's Transit Feed # Validator at the error level, but the data may have warnings left unfixed # in order to conform to TransLink's business rules, such as duplicate stops # with no distance between them.\" vancouver <- feeds(provider = \"TransLink\", country_code = \"CA\", data_type = \"gtfs\") vancouver_datasets <- mobdb_datasets(vancouver$id[1]) validation <- get_validation_report(vancouver_datasets) # Shows: 100,076 errors, 14,322,543 warnings } # }"},{"path":"https://mobdb.pages.dev/reference/mobdb-package.html","id":null,"dir":"Reference","previous_headings":"","what":"mobdb: Access the Mobility Database API — mobdb-package","title":"mobdb: Access the Mobility Database API — mobdb-package","text":"Provides functions search access transit feed data Mobility Database (mobilitydata.org). package wraps Mobility Database API v1, allowing users discover GTFS GBFS feeds transit agencies worldwide. Functions designed integrate seamlessly tidytransit gtfstools packages subsequent feed analysis.","code":""},{"path":[]},{"path":"https://mobdb.pages.dev/reference/mobdb-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"mobdb: Access the Mobility Database API — mobdb-package","text":"Maintainer: Jason @jasonadle.com","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_browse.html","id":null,"dir":"Reference","previous_headings":"","what":"Load the Mobility Database in browser — mobdb_browse","title":"Load the Mobility Database in browser — mobdb_browse","text":"Opens Mobility Database default web browser. need log sign website get API key use package.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_browse.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load the Mobility Database in browser — mobdb_browse","text":"","code":"mobdb_browse()"},{"path":"https://mobdb.pages.dev/reference/mobdb_browse.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load the Mobility Database in browser — mobdb_browse","text":"Invisibly returns URL opened.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_cache_clear.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear mobdb cache — mobdb_cache_clear","title":"Clear mobdb cache — mobdb_cache_clear","text":"Removes cached files cache directory. Can remove files older specified number days.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_cache_clear.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear mobdb cache — mobdb_cache_clear","text":"","code":"mobdb_cache_clear(older_than = NULL)"},{"path":"https://mobdb.pages.dev/reference/mobdb_cache_clear.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear mobdb cache — mobdb_cache_clear","text":"older_than Optional. Remove files older many days. NULL (default), removes cached files.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_cache_clear.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear mobdb cache — mobdb_cache_clear","text":"","code":"if (FALSE) { # \\dontrun{ # Clear all cache mobdb_cache_clear()  # Clear only files older than 7 days mobdb_cache_clear(older_than = 7) } # }"},{"path":"https://mobdb.pages.dev/reference/mobdb_cache_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Show cache information — mobdb_cache_info","title":"Show cache information — mobdb_cache_info","text":"Displays information mobdb cache including location, number files, total size.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_cache_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show cache information — mobdb_cache_info","text":"","code":"mobdb_cache_info()"},{"path":"https://mobdb.pages.dev/reference/mobdb_cache_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Show cache information — mobdb_cache_info","text":"List cache information (invisibly): path Cache directory path files Number cached files size_mb Total size megabytes exists Whether cache directory exists","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_cache_info.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Show cache information — mobdb_cache_info","text":"","code":"# Show cache info mobdb_cache_info() #>  #> ── mobdb Cache Information ── #>  #> ℹ Path: /home/runner/.cache/R/mobdb #> ℹ Files: 0 #> ℹ Size: 0 MB #> ℹ Exists: FALSE"},{"path":"https://mobdb.pages.dev/reference/mobdb_cache_list.html","id":null,"dir":"Reference","previous_headings":"","what":"List cached files — mobdb_cache_list","title":"List cached files — mobdb_cache_list","text":"Returns tibble information cached files, including file name, size, modification time, age.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_cache_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List cached files — mobdb_cache_list","text":"","code":"mobdb_cache_list()"},{"path":"https://mobdb.pages.dev/reference/mobdb_cache_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List cached files — mobdb_cache_list","text":"Tibble columns: file File name size_mb File size megabytes modified Last modification time age_hours Age hours","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_cache_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List cached files — mobdb_cache_list","text":"","code":"# List all cached files mobdb_cache_list() #> ! Cache directory does not exist: /home/runner/.cache/R/mobdb #> # A tibble: 0 × 0"},{"path":"https://mobdb.pages.dev/reference/mobdb_cache_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Set or show mobdb cache directory — mobdb_cache_path","title":"Set or show mobdb cache directory — mobdb_cache_path","text":"Configure directory mobdb caches API responses. default, mobdb uses tools::R_user_dir(\"mobdb\", \"cache\").","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_cache_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set or show mobdb cache directory — mobdb_cache_path","text":"","code":"mobdb_cache_path(path = NULL, install = FALSE, overwrite = FALSE)"},{"path":"https://mobdb.pages.dev/reference/mobdb_cache_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set or show mobdb cache directory — mobdb_cache_path","text":"path Optional. Directory path cache. NULL (default), shows current cache path without changing . install Logical. TRUE, adds MOBDB_CACHE_PATH .Renviron persistence across R sessions. Default: FALSE overwrite Logical. TRUE, overwrites existing MOBDB_CACHE_PATH .Renviron. Default: FALSE","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_cache_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set or show mobdb cache directory — mobdb_cache_path","text":"Character string cache path (invisibly)","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_cache_path.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set or show mobdb cache directory — mobdb_cache_path","text":"","code":"if (FALSE) { # \\dontrun{ # Show current cache path mobdb_cache_path()  # Set for current session only mobdb_cache_path(\"~/my_mobdb_cache\")  # Set permanently in .Renviron mobdb_cache_path(\"~/my_mobdb_cache\", install = TRUE) } # }"},{"path":"https://mobdb.pages.dev/reference/mobdb_datasets.html","id":null,"dir":"Reference","previous_headings":"","what":"Get datasets for a feed — mobdb_datasets","title":"Get datasets for a feed — mobdb_datasets","text":"Retrieve information available datasets (historical versions) specific feed. dataset represents snapshot feed particular point time.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_datasets.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get datasets for a feed — mobdb_datasets","text":"","code":"mobdb_datasets(feed_id, latest = TRUE, use_cache = TRUE)"},{"path":"https://mobdb.pages.dev/reference/mobdb_datasets.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get datasets for a feed — mobdb_datasets","text":"feed_id string. unique identifier feed. latest logical. TRUE (default), return recent dataset. FALSE, return available datasets. use_cache logical. TRUE (default), use cached results available. FALSE, always fetch fresh data API. Cached data expires 24 hours (datasets immutable).","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_datasets.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get datasets for a feed — mobdb_datasets","text":"tibble containing dataset information including: id - Dataset identifier feed_id - Associated feed ID downloaded_at - Timestamp dataset captured hash - Hash dataset file download_url - URL download specific dataset version Additional metadata columns","code":""},{"path":[]},{"path":"https://mobdb.pages.dev/reference/mobdb_datasets.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get datasets for a feed — mobdb_datasets","text":"","code":"if (FALSE) { # \\dontrun{ # Get latest dataset for a feed (GTFS schedule feeds only) latest <- mobdb_datasets(\"mdb-53\")  # Get all historical datasets all_versions <- mobdb_datasets(\"mdb-53\", latest = FALSE) } # }"},{"path":"https://mobdb.pages.dev/reference/mobdb_extract_datasets.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract latest dataset information from search results — mobdb_extract_datasets","title":"Extract latest dataset information from search results — mobdb_extract_datasets","text":"Helper function extract dataset details search results. search endpoint includes latest_dataset field comprehensive information recent dataset, including validation results.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_extract_datasets.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract latest dataset information from search results — mobdb_extract_datasets","text":"","code":"mobdb_extract_datasets(results)"},{"path":"https://mobdb.pages.dev/reference/mobdb_extract_datasets.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract latest dataset information from search results — mobdb_extract_datasets","text":"results tibble returned mobdb_search().","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_extract_datasets.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract latest dataset information from search results — mobdb_extract_datasets","text":"tibble one row per feed, containing key dataset information: id - Feed ID dataset_id - Latest dataset ID hosted_url - URL download latest validated dataset downloaded_at - dataset captured hash - Dataset file hash service_date_range_start - Start service dates service_date_range_end - End service dates total_error - Number validation errors (available) total_warning - Number validation warnings (available) Note: Report URLs (html_report, json_report) available using mobdb_datasets(), search results","code":""},{"path":[]},{"path":"https://mobdb.pages.dev/reference/mobdb_extract_datasets.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract latest dataset information from search results — mobdb_extract_datasets","text":"","code":"if (FALSE) { # \\dontrun{ # Search for feeds results <- mobdb_search(\"transit\")  # Get dataset info with validation status datasets <- mobdb_extract_datasets(results)  # Filter for feeds with no errors clean_feeds <- datasets |> filter(total_error == 0) } # }"},{"path":"https://mobdb.pages.dev/reference/mobdb_extract_locations.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract location information from search results — mobdb_extract_locations","title":"Extract location information from search results — mobdb_extract_locations","text":"Helper function extract unnest location information search results. locations field search results list data frames; function flattens usable format.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_extract_locations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract location information from search results — mobdb_extract_locations","text":"","code":"mobdb_extract_locations(results, unnest = TRUE)"},{"path":"https://mobdb.pages.dev/reference/mobdb_extract_locations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract location information from search results — mobdb_extract_locations","text":"results tibble returned mobdb_search(). unnest Logical. TRUE (default), unnest locations feed-location combination gets row. FALSE, return summary locations per feed.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_extract_locations.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract location information from search results — mobdb_extract_locations","text":"tibble location information. unnest = TRUE, row represents feed-location pair. unnest = FALSE, returns one row per feed concatenated location strings.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_extract_locations.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract location information from search results — mobdb_extract_locations","text":"","code":"if (FALSE) { # \\dontrun{ # Search for feeds results <- mobdb_search(\"California\")  # Get unnested locations (multiple rows per feed if multiple locations) locations <- mobdb_extract_locations(results)  # Get summary (one row per feed) location_summary <- mobdb_extract_locations(results, unnest = FALSE) } # }"},{"path":"https://mobdb.pages.dev/reference/mobdb_extract_urls.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract download URLs from feed results — mobdb_extract_urls","title":"Extract download URLs from feed results — mobdb_extract_urls","text":"Helper function extract producer URLs tibble feeds returned feeds() mobdb_search(). useful want get source URLs set search results.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_extract_urls.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract download URLs from feed results — mobdb_extract_urls","text":"","code":"mobdb_extract_urls(feeds)"},{"path":"https://mobdb.pages.dev/reference/mobdb_extract_urls.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract download URLs from feed results — mobdb_extract_urls","text":"feeds tibble returned feeds() mobdb_search().","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_extract_urls.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract download URLs from feed results — mobdb_extract_urls","text":"character vector download URLs, length input tibble. Returns NA feeds without URL.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_extract_urls.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract download URLs from feed results — mobdb_extract_urls","text":"","code":"if (FALSE) { # \\dontrun{ # Search for feeds and get their URLs feeds <- mobdb_search(\"California\") urls <- mobdb_extract_urls(feeds)  # Filter and get URLs ca_gtfs <- feeds(subdivision_name = \"California\", data_type = \"gtfs\") ca_urls <- mobdb_extract_urls(ca_gtfs) } # }"},{"path":"https://mobdb.pages.dev/reference/mobdb_feed_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Get download URL for a feed — mobdb_feed_url","title":"Get download URL for a feed — mobdb_feed_url","text":"Convenience function quickly get direct download source URL feed. useful passing tidytransit::read_gtfs() similar functions.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_feed_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get download URL for a feed — mobdb_feed_url","text":"","code":"mobdb_feed_url(feed_id)"},{"path":"https://mobdb.pages.dev/reference/mobdb_feed_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get download URL for a feed — mobdb_feed_url","text":"feed_id string. unique identifier feed.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_feed_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get download URL for a feed — mobdb_feed_url","text":"string. direct download URL, NULL available.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_feed_url.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get download URL for a feed — mobdb_feed_url","text":"","code":"if (FALSE) { # \\dontrun{ # Get download URL url <- mobdb_feed_url(\"mdb-53\")  # Use with tidytransit library(tidytransit) gtfs <- read_gtfs(url) } # }"},{"path":"https://mobdb.pages.dev/reference/mobdb_get_dataset.html","id":null,"dir":"Reference","previous_headings":"","what":"Get details for a specific dataset — mobdb_get_dataset","title":"Get details for a specific dataset — mobdb_get_dataset","text":"Retrieve detailed information single dataset ID.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_get_dataset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get details for a specific dataset — mobdb_get_dataset","text":"","code":"mobdb_get_dataset(dataset_id)"},{"path":"https://mobdb.pages.dev/reference/mobdb_get_dataset.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get details for a specific dataset — mobdb_get_dataset","text":"dataset_id string. unique identifier dataset.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_get_dataset.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get details for a specific dataset — mobdb_get_dataset","text":"list containing detailed dataset information.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_get_dataset.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get details for a specific dataset — mobdb_get_dataset","text":"","code":"if (FALSE) { # \\dontrun{ # Get details for a specific dataset dataset_info <- mobdb_get_dataset(\"mdb-53-202510250025\") } # }"},{"path":"https://mobdb.pages.dev/reference/mobdb_get_feed.html","id":null,"dir":"Reference","previous_headings":"","what":"Get details for a specific feed — mobdb_get_feed","title":"Get details for a specific feed — mobdb_get_feed","text":"Retrieve detailed information single feed ID.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_get_feed.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get details for a specific feed — mobdb_get_feed","text":"","code":"mobdb_get_feed(feed_id)"},{"path":"https://mobdb.pages.dev/reference/mobdb_get_feed.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get details for a specific feed — mobdb_get_feed","text":"feed_id string. unique identifier feed.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_get_feed.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get details for a specific feed — mobdb_get_feed","text":"list containing detailed feed information.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_get_feed.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get details for a specific feed — mobdb_get_feed","text":"","code":"if (FALSE) { # \\dontrun{ # Get details for a specific feed feed_details <- mobdb_get_feed(\"mdb-53\") } # }"},{"path":"https://mobdb.pages.dev/reference/mobdb_has_key.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if Mobility Database API token is configured — mobdb_has_key","title":"Check if Mobility Database API token is configured — mobdb_has_key","text":"Check whether refresh token set current session available environment.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_has_key.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if Mobility Database API token is configured — mobdb_has_key","text":"","code":"mobdb_has_key()"},{"path":"https://mobdb.pages.dev/reference/mobdb_has_key.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if Mobility Database API token is configured — mobdb_has_key","text":"Logical. TRUE token configured, FALSE otherwise.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_has_key.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check if Mobility Database API token is configured — mobdb_has_key","text":"","code":"if (FALSE) { # \\dontrun{ mobdb_has_key() } # }"},{"path":"https://mobdb.pages.dev/reference/mobdb_read_gtfs.html","id":null,"dir":"Reference","previous_headings":"","what":"Read GTFS feed directly from Mobility Database — mobdb_read_gtfs","title":"Read GTFS feed directly from Mobility Database — mobdb_read_gtfs","text":"Note: function superseded download_feed(), provides functionality plus integrated search, Flex filtering, control data sources. New code use download_feed() instead. Convenience wrapper fetches feed's download URL Mobility Database passes tidytransit::read_gtfs(). Requires tidytransit package.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_read_gtfs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read GTFS feed directly from Mobility Database — mobdb_read_gtfs","text":"","code":"mobdb_read_gtfs(feed_id, dataset_id = NULL, ...)"},{"path":"https://mobdb.pages.dev/reference/mobdb_read_gtfs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read GTFS feed directly from Mobility Database — mobdb_read_gtfs","text":"feed_id string. unique identifier feed, data frame single row feeds() mobdb_search(). dataset_id string. Optional specific dataset ID. NULL (default), uses current/latest feed URL. ... Additional arguments passed tidytransit::read_gtfs().","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_read_gtfs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read GTFS feed directly from Mobility Database — mobdb_read_gtfs","text":"gtfs object returned tidytransit::read_gtfs().","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_read_gtfs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read GTFS feed directly from Mobility Database — mobdb_read_gtfs","text":"","code":"if (FALSE) { # \\dontrun{ # Read latest feed by ID (Bay Area Rapid Transit) gtfs <- mobdb_read_gtfs(\"mdb-53\")  # Read from search results feeds <- feeds(provider = \"TransLink\", data_type = \"gtfs\") gtfs <- mobdb_read_gtfs(feeds[1, ])  # Read specific historical dataset gtfs_historical <- mobdb_read_gtfs(\"mdb-53\", dataset_id = \"mdb-53-202510250025\") } # }"},{"path":"https://mobdb.pages.dev/reference/mobdb_search.html","id":null,"dir":"Reference","previous_headings":"","what":"Search for feeds across the Mobility Database — mobdb_search","title":"Search for feeds across the Mobility Database — mobdb_search","text":"Perform text search across feed names, providers, locations. Note: Search performed English words case insensitive. Word order relevant matching. example New York City Transit parsed new & york & city & transit endpoint used known issues relevance ranking. better results searching provider name, consider using feeds() provider parameter.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_search.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Search for feeds across the Mobility Database — mobdb_search","text":"","code":"mobdb_search(   query,   feed_id = NULL,   data_type = NULL,   official = NULL,   status = NULL,   gtfs_feature = NULL,   gbfs_version = NULL,   limit = 50,   offset = 0,   use_cache = TRUE )"},{"path":"https://mobdb.pages.dev/reference/mobdb_search.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Search for feeds across the Mobility Database — mobdb_search","text":"query string. Search query string. Searches across provider names, feed names, locations. feed_id string. unique identifier feed (e.g. \"mdb-696\", \"mdb-1707\", \"gbfs-lime_vancouver_bc\"). provided, searches specific feed filter parameters must omitted. data_type string. Optional filter data type: \"gtfs\", \"gtfs_rt\", \"gbfs\". official logical. TRUE, return official feeds searching provider/location. FALSE, return unofficial feeds. NULL (default), return feeds regardless official status. status string. Feed status filter: \"active\", \"deprecated\", \"inactive\", \"development\", \"future\". gtfs_feature character vector. Filter feeds GTFS features. valid GTFS Schedule feeds. GTFS features definitions defined . gbfs_version character vector. Comma-separated list GBFS versions filter . valid GBFS feeds. GBFS version notes defined limit integer. Maximum number results (default: 50). offset integer. Number results skip pagination (default: 0). use_cache logical. TRUE (default), use cached results available. FALSE, always fetch fresh data API. Cached data expires 1 hour.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_search.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Search for feeds across the Mobility Database — mobdb_search","text":"tibble matching feeds. Note search results include additional fields compared feeds(): locations - List data frames geographical information latest_dataset - Data frame recent dataset details validation Core fields (id, provider, data_type, status, source_info) ","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_search.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Search for feeds across the Mobility Database — mobdb_search","text":"","code":"if (FALSE) { # \\dontrun{ # Search for transit agencies (Note: results may not be well-ranked) results <- mobdb_search(\"transit\")  # Better approach: use feeds() with provider filter bart <- feeds(provider = \"BART\") mta <- feeds(provider = \"MTA New York\")  # Search with filters gtfs_feeds <- mobdb_search(   \"transit\",   data_type = \"gtfs\",   official = TRUE )  # Search with pagination first_50 <- mobdb_search(\"train\", limit = 50, offset = 0) next_50 <- mobdb_search(\"train\", limit = 50, offset = 50)  # Search for official GTFS feeds only official_feeds <- mobdb_search(\"metro\", official = TRUE, data_type = \"gtfs\")  # Note: For location-specific searches (state/province/city), use feeds() instead: ontario_transit <- feeds(   provider = \"transit\",   country_code = \"CA\",   subdivision_name = \"Ontario\",   data_type = \"gtfs\" ) } # }"},{"path":"https://mobdb.pages.dev/reference/mobdb_set_key.html","id":null,"dir":"Reference","previous_headings":"","what":"Set Mobility Database API refresh token — mobdb_set_key","title":"Set Mobility Database API refresh token — mobdb_set_key","text":"Store Mobility Database API refresh token use subsequent API calls. refresh token used generate short-lived access tokens automatically.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_set_key.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set Mobility Database API refresh token — mobdb_set_key","text":"","code":"mobdb_set_key(refresh_token, install = FALSE)"},{"path":"https://mobdb.pages.dev/reference/mobdb_set_key.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set Mobility Database API refresh token — mobdb_set_key","text":"refresh_token string. Mobility Database API refresh token. Obtain signing https://mobilitydatabase.org navigating account details page. install logical. TRUE, set token .Renviron use across sessions. FALSE (default), token set current session.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_set_key.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set Mobility Database API refresh token — mobdb_set_key","text":"Invisibly returns TRUE successful.","code":""},{"path":"https://mobdb.pages.dev/reference/mobdb_set_key.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set Mobility Database API refresh token — mobdb_set_key","text":"","code":"if (FALSE) { # \\dontrun{ # Set token for current session mobdb_set_key(\"your_refresh_token_here\")  # Set token permanently in .Renviron mobdb_set_key(\"your_refresh_token_here\", install = TRUE) } # }"},{"path":"https://mobdb.pages.dev/reference/read_from_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Read from cache — read_from_cache","title":"Read from cache — read_from_cache","text":"Read cache","code":""},{"path":"https://mobdb.pages.dev/reference/read_from_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read from cache — read_from_cache","text":"","code":"read_from_cache(cache_key, max_age = NULL)"},{"path":"https://mobdb.pages.dev/reference/read_from_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read from cache — read_from_cache","text":"cache_key Cache file name max_age Maximum age hours (NULL = limit)","code":""},{"path":"https://mobdb.pages.dev/reference/read_from_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read from cache — read_from_cache","text":"Cached data NULL found/expired","code":""},{"path":"https://mobdb.pages.dev/reference/view_validation_report.html","id":null,"dir":"Reference","previous_headings":"","what":"View GTFS-Schedule validation report in browser — view_validation_report","title":"View GTFS-Schedule validation report in browser — view_validation_report","text":"Opens MobilityData validation report feed dataset default web browser. report shows detailed validation results canonical GTFS validator. Note: function support GBFS validation reports time GBFS validation reports located different endpoint different validation criteria.","code":""},{"path":"https://mobdb.pages.dev/reference/view_validation_report.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"View GTFS-Schedule validation report in browser — view_validation_report","text":"","code":"view_validation_report(data, format = \"html\")"},{"path":"https://mobdb.pages.dev/reference/view_validation_report.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"View GTFS-Schedule validation report in browser — view_validation_report","text":"data One : single-row tibble mobdb_datasets() mobdb_search() character string feed_id (e.g., \"mdb-482\") character string dataset_id (e.g., \"mdb-482-202511010126\") format Character. Report format: \"html\" (default) \"json\".","code":""},{"path":"https://mobdb.pages.dev/reference/view_validation_report.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"View GTFS-Schedule validation report in browser — view_validation_report","text":"Invisibly returns URL opened.","code":""},{"path":[]},{"path":"https://mobdb.pages.dev/reference/view_validation_report.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"View GTFS-Schedule validation report in browser — view_validation_report","text":"","code":"if (FALSE) { # \\dontrun{ # View validation report for Alexandria DASH view_validation_report(\"mdb-482\")  # View report from dataset results datasets <- mobdb_datasets(\"mdb-482\") view_validation_report(datasets)  # View JSON report instead view_validation_report(\"mdb-482\", format = \"json\") } # }"},{"path":"https://mobdb.pages.dev/reference/write_to_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Write to cache — write_to_cache","title":"Write to cache — write_to_cache","text":"Write cache","code":""},{"path":"https://mobdb.pages.dev/reference/write_to_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write to cache — write_to_cache","text":"","code":"write_to_cache(data, cache_key)"},{"path":"https://mobdb.pages.dev/reference/write_to_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write to cache — write_to_cache","text":"data Data cache cache_key Cache file name","code":""},{"path":[]},{"path":"https://mobdb.pages.dev/news/index.html","id":"major-changes-0-1-5","dir":"Changelog","previous_headings":"","what":"Major changes","title":"mobdb 0.1.5","text":"New! feeds_bbox() function discovering GTFS Schedule feeds bounding box mobdb_cache_path() - configure cache location mobdb_cache_info() - view cache status mobdb_cache_list() - list cached files mobdb_cache_clear() - clear cache API functions now support caching via use_cache parameter","code":""},{"path":"https://mobdb.pages.dev/news/index.html","id":"minor-changes-0-1-5","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"mobdb 0.1.5","text":"New! Vignette: “Working GTFS-Realtime GBFS” feeds_bbox() supports numeric vectors sf bbox objects Added sf Suggests bbox object support","code":""},{"path":[]},{"path":"https://mobdb.pages.dev/news/index.html","id":"major-changes-0-1-4","dir":"Changelog","previous_headings":"","what":"Major changes","title":"mobdb 0.1.4","text":"download_feed() now supports downloading specific historical dataset versions via dataset_id parameter New! get_validation_report() function extracts MobilityData validation summaries help assess feed quality downloading New! view_validation_report() function opens MobilityData validation reports browser New! filter_by_validation() function filters feeds/datasets quality thresholds (max errors/warnings)","code":""},{"path":"https://mobdb.pages.dev/news/index.html","id":"minor-changes-0-1-4","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"mobdb 0.1.4","text":"mobdb_extract_datasets() now includes html_report json_report URLs output download_feed(latest = FALSE) returns available historical versions without downloading mobdb_search() now supports various parameters. New! mobdb_browse() function opens Mobility Database browser","code":""},{"path":"https://mobdb.pages.dev/news/index.html","id":"bug-fixes-0-1-4","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"mobdb 0.1.4","text":"download_feed() now validates feed status searching provider/location download_feed() correctly filters official feed status feeds() status validation now correctly accepts five API statuses: “active”, “deprecated”, “inactive”, “development”, “future” mobdb_search() now correctly performs searches","code":""},{"path":[]},{"path":"https://mobdb.pages.dev/news/index.html","id":"major-changes-0-1-3","dir":"Changelog","previous_headings":"","what":"Major changes","title":"mobdb 0.1.3","text":"mobdb_download_feed() now called download_feed(). breaking change requires users uses function updated use new function name. mobdb_feeds() now called feeds(). breaking change requires code uses function updated use new function name.","code":""},{"path":"https://mobdb.pages.dev/news/index.html","id":"minor-changes-0-1-3","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"mobdb 0.1.3","text":"download_feed() now accepts official parameter filtering official vs unofficial feeds feeds() now accepts official parameter filtering official vs unofficial feeds","code":""},{"path":[]},{"path":"https://mobdb.pages.dev/news/index.html","id":"major-changes-0-1-2","dir":"Changelog","previous_headings":"","what":"Major changes","title":"mobdb 0.1.2","text":"mobdb_download_feed() now accepts data frames mobdb_feeds() mobdb_search() Soft deprecation mobdb_read_gtfs() (still works; use mobdb_download_feed() new code)","code":""},{"path":"https://mobdb.pages.dev/news/index.html","id":"minor-changes-0-1-2","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"mobdb 0.1.2","text":"Fixed documentation examples use valid feed IDs Enhanced mobdb_search() docs explain API limitations Added comprehensive test suite","code":""},{"path":[]},{"path":"https://mobdb.pages.dev/news/index.html","id":"major-changes-0-1-1","dir":"Changelog","previous_headings":"","what":"Major changes","title":"mobdb 0.1.1","text":"Added mobdb_download_feed() downloading GTFS Schedule feeds MobilityData hosted URLs Enhanced mobdb_download_feed() support provider/location search parameters Added automatic GTFS-Flex feed filtering exclude_flex parameter (default: TRUE) Added use_source_url parameter choose MobilityData hosted agency source URLs","code":""},{"path":"https://mobdb.pages.dev/news/index.html","id":"minor-changes-0-1-1","dir":"Changelog","previous_headings":"","what":"Minor changes","title":"mobdb 0.1.1","text":"Improved error messages display feed details table multiple feeds match search criteria Updated installation instructions use pak instead remotes","code":""},{"path":"https://mobdb.pages.dev/news/index.html","id":"mobdb-010","dir":"Changelog","previous_headings":"","what":"mobdb 0.1.0","title":"mobdb 0.1.0","text":"Initial release. Provides R access Mobility Database Catalog API discovering accessing GTFS transit feeds. Search filter feeds mobdb_feeds() Access historical datasets mobdb_datasets() Direct integration tidytransit via mobdb_read_gtfs() Secure authentication mobdb_set_key()","code":""}]
